<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">

<polymer-element name="mudasobwa-article"  extends="mudasobwa-content-slider">
	<template>
		<style>
			:host { display: block; }
			polyfill-next-selector { content: 'font-awesome'; }
				::content font-awesome { font-size: 48px; }
			polyfill-next-selector { content: 'div.slider-content'; }
				::content div.slider-content {
					border-radius: 10px;
					-moz-border-radius: 10px;
					-webkit-border-radius: 10px;
					border: 2px solid #EEE;

					padding: 0 1em;
				}
		</style>
		<shadow></shadow>
	</template>
	<script>
		Polymer('mudasobwa-article', {
			attached: function() {
					this.super();
					var self = this;
					(function(window, undefined){
						History.Adapter.bind(window, 'statechange', function() {
							var state = History.getState();
							if(state.data['sender'] === 'mudasobwa:yo') {
								self.goto(state.data['url']);
							}
						});
					})(window);
			},
			articleChanged: function() {
				this.super();

				var root = this;
				while (root.parentNode) {
					root = root.parentNode;
				}
				root.title = this.title;
			}

		});
	</script>
</polymer-element>
